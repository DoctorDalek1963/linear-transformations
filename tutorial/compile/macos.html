<!--
lintrans - The linear transformation visualizer
Copyright (C) 2021-2022 D. Dyson (DoctorDalek1963)

This program is licensed under GNU GPLv3, available here:
<https://www.gnu.org/licenses/gpl-3.0.html>
-->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="../../main.css" type="text/css">
	<link rel="stylesheet" href="compile.css" type="text/css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack-subset.css">

	<script type="text/javascript">
		let apiLatestRelease = "https://api.github.com/repos/DoctorDalek1963/lintrans/releases/latest";

		let xmlHTTP = new XMLHttpRequest();
		xmlHTTP.open("GET", apiLatestRelease, false); // I know this is deprecated and can be slow, but it works and I don't care
		xmlHTTP.send(null);
		let response = xmlHTTP.responseText;

		let htmlURL = JSON.parse(response).html_url;
		let tagName = htmlURL.replace(/^https:\/\/github.com\/DoctorDalek1963\/lintrans\/releases\/tag\//, "");

		let finalLink = `https://github.com/DoctorDalek1963/lintrans/archive/refs/tags/${tagName}.zip`;

		window.addEventListener("DOMContentLoaded", () => {
			document.getElementById("latest-release-link").href = finalLink;
		}, false);
	</script>

	<title>lintrans compilation guide - macOS</title>
</head>
<body>
	<div class="compilation-guide-wrapper">
		<h1 class="compilation-guide-header">lintrans compilation guide - macOS</h1>

		<hr>

		<div class="disclaimer">
			Please note that <code>lintrans</code> doesn't work on macOS 10.8 and earlier. This is because it needs Python 3.10, which needs macOS 10.9 or later.
		</div>

		<hr>

		<div class="compilation-guide-step">
			<h3>Install Python 3.10</h3>

			<p>If you've already got Python 3.10 or higher, then you just need to find out whether you use <code>python</code>, <code>python3</code>, or <code>python3.10</code> in the terminal (use <code>python -V</code> to check). We'll need that for later.</p>

			<p>If you don't already have Python 3.10 or newer, download it. Version 3.10.3 can be found <a href="https://www.python.org/downloads/release/python-3103/" target="_blank">here</a> but any version 3.10 or higher should also suffice.</p>

			<p>Make sure to download the macOS installer, and then just run it. Follow all of the instructions and at the end, run <code>Install Certificates.command</code> and <code>Update Shell Profile.command</code> (available in <code>/Applications/Python 3.10</code> if it doesn't show up automatically).</p>

			<img src="images/macos/python-installer.png"/>

			<p>Now open the terminal from Spotlight Search and run <code>python3 -V</code> to check that it says 3.10 (or whichever higher version you installed). If it doesn't, then use <code>python3.10 -V</code>.</p>

			<img src="images/macos/python-v-check.png"/>
		</div>

		<hr>

		<div class="compilation-guide-step">
			<h3>Get the lintrans source code</h3>

			<p>Download the <a href="#" id="latest-release-link">source code zip file</a> for the latest release from GitHub (use the source code download on the specific release page if you want a specific release).</p>

			<p>macOS will unzip the file for you, so just run <code>cd Downloads/lintrans-&lt;version&gt;</code> in your terminal, where <code>&lt;version&gt;</code> is the version number you downloaded.</p>

			<img src="images/macos/cd-into-lintrans.png"/>
		</div>

		<hr>

		<div class="compilation-guide-step">
			<h3>Create a virtual environment and install dependencies</h3>

			<p>Using whichever version of Python is 3.10 for you, run <code>python3 -m venv venv</code> and then activate the virtual environment with <code>. venv/bin/activate</code>. Then run <code>pip install -U pip PyInstaller -e .</code> and wait for everything to install.</p>

			<img src="images/macos/pip-commands.png"/>
		</div>

		<hr>

		<div class="compilation-guide-step">
			<h3>Compile the program</h3>

			<p>We're now ready to compile the program. Simply run <code>python3 compile.py</code> and wait for it to finish compiling.</p>

			<p>If this is your first time doing something like this, then you might need to install the macOS developer tools. Just agree to the legal stuff and wait for it to install. It might take a while. Then run the compile command again.</p>

			<p>You should now have an app file called <code>lintrans</code> in the current folder. I would recommend moving this file, either to your desktop or some other folder where you keep small programs, and then you can delete the <code>lintrans-&lt;version&gt;</code> folder from your Downloads folder.</p>

			<img src="images/macos/executable.png"/>
		</div>

		<hr>

		<div class="compilation-guide-step">
			<p>Thank you for installing lintrans! If you had any issues with the installation or have any questions about the app, don't hesitate to contact me through <a href="https://github.com/DoctorDalek1963/lintrans.git" target="_blank">my GitHub</a> or via email at <a href="mailto:dyson.dyson@icloud.com">dyson.dyson@icloud.com</a>.</p>
		</div>
	</div>
</body>
</html>
